import{a as y,c as T,f as E,j as I,k as M,l as V,o as D}from"./chunk-AW7BXQV3.js";import{a as O}from"./chunk-67OOS7J4.js";import"./chunk-YNVE3HA7.js";import"./chunk-B24WKKOI.js";import{$ as f,L as a,M as p,Q as h,S as b,U as n,V as e,Y as u,_ as t,aa as l,ba as c,ca as g,da as k,fa as v,ra as C,ta as w,va as _,x as S,xa as x}from"./chunk-VOBVLZ74.js";function F(m,r){if(m&1&&(n(0,"li",18),t(1),e()),m&2){let o=r.$implicit;a(),l(" ",o," ")}}var A=class m{constructor(r,o,i){this.route=r;this.router=o;this.taskService=i}task={};comments=[];updatedStatus;newComment="";ngOnInit(){let r=this.route.snapshot.paramMap.get("id");console.log("task id:",r),r&&this.taskService.getTaskById(r).subscribe(o=>{this.task=o,this.updatedStatus=o.status,this.comments=o.comments||[]})}updateStatus(){this.task&&this.taskService.editTask(this.task.id,{status:this.updatedStatus}).then(()=>{alert("Status updated successfully!")})}addComment(){this.newComment.trim()&&(this.comments.push(this.newComment.trim()),this.taskService.editTask(this.task.id,{comments:this.comments}).then(()=>{this.newComment="",alert("Comment added successfully!")}))}goBack(){this.router.navigate(["/member/member-dashboard"])}static \u0275fac=function(o){return new(o||m)(p(_),p(x),p(O))};static \u0275cmp=S({type:m,selectors:[["app-view-task"]],standalone:!0,features:[v],decls:45,vars:8,consts:[[1,"bg-blue-600","text-white","px-6","py-4","flex","justify-between","items-center"],[1,"text-2xl","font-bold"],[1,"bg-blue-500","px-4","py-2","rounded","hover:bg-blue-600","transition",3,"click"],[1,"min-h-screen","bg-gray-100","p-6"],[1,"bg-white","p-6","mt-6","shadow-md","rounded-lg"],[1,"text-xl","font-bold"],[1,"mt-4"],[1,"bg-gray-50","p-6","mt-4","shadow-md","rounded-lg"],[1,"text-lg","font-bold"],[1,"mt-2","block","w-full","p-2","border","border-gray-300","rounded",3,"ngModelChange","ngModel"],["value","Pending"],["value","In Progress"],["value","Completed"],[1,"mt-4","bg-green-500","text-white","px-4","py-2","rounded","hover:bg-green-600","transition",3,"click"],[1,"mt-2"],["class","bg-gray-100 p-2 rounded border",4,"ngFor","ngForOf"],["placeholder","Add a comment",1,"mt-4","block","w-full","p-2","border","border-gray-300","rounded",3,"ngModelChange","ngModel"],[1,"mt-2","bg-blue-500","text-white","px-4","py-2","rounded","hover:bg-blue-600","transition",3,"click"],[1,"bg-gray-100","p-2","rounded","border"]],template:function(o,i){o&1&&(n(0,"nav",0)(1,"h1",1),t(2,"Task Details"),e(),n(3,"button",2),u("click",function(){return i.goBack()}),t(4," Back to Dashboard "),e()(),n(5,"div",3)(6,"div",4)(7,"h2",5),t(8),e(),n(9,"p")(10,"strong"),t(11,"Project:"),e(),t(12),e(),n(13,"p")(14,"strong"),t(15,"Status:"),e(),t(16),e(),n(17,"p")(18,"strong"),t(19,"Deadline:"),e(),t(20),e(),n(21,"p",6)(22,"strong"),t(23,"Description:"),e(),t(24),e()(),n(25,"div",7)(26,"h3",8),t(27,"Update Status"),e(),n(28,"select",9),k("ngModelChange",function(s){return g(i.updatedStatus,s)||(i.updatedStatus=s),s}),n(29,"option",10),t(30,"Pending"),e(),n(31,"option",11),t(32,"In Progress"),e(),n(33,"option",12),t(34,"Completed"),e()(),n(35,"button",13),u("click",function(){return i.updateStatus()}),t(36," Save Status "),e()(),n(37,"div",7)(38,"h3",8),t(39,"Comments"),e(),n(40,"ul",14),h(41,F,2,1,"li",15),e(),n(42,"textarea",16),k("ngModelChange",function(s){return g(i.newComment,s)||(i.newComment=s),s}),e(),n(43,"button",17),u("click",function(){return i.addComment()}),t(44," Add Comment "),e()()()),o&2&&(a(8),f(i.task.title),a(4),l(" ",i.task.project,""),a(4),l(" ",i.task.status,""),a(4),l(" ",i.task.deadline,""),a(4),l(" ",i.task.description,""),a(4),c("ngModel",i.updatedStatus),a(13),b("ngForOf",i.comments),a(),c("ngModel",i.newComment))},dependencies:[w,C,D,M,V,y,I,T,E],encapsulation:2})};export{A as ViewTaskComponent};
