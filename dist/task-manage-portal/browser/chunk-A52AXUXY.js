import{c as N,f as j,j as L,k as R,l as U,o as W}from"./chunk-AW7BXQV3.js";import{a as B}from"./chunk-67OOS7J4.js";import{a as V}from"./chunk-CEEY3FZL.js";import"./chunk-YNVE3HA7.js";import"./chunk-B24WKKOI.js";import{$ as p,A as T,D as u,E as g,H as v,L as s,M as _,Q as D,S as b,U as t,V as i,X as S,Y as d,Z as m,_ as n,aa as C,ba as y,ca as w,da as E,fa as h,ga as I,ha as M,ra as F,sa as A,ta as O,x as f,xa as P}from"./chunk-VOBVLZ74.js";var x=class l{taskId;confirm=new v;cancel=new v;confirmDelete(){this.confirm.emit(this.taskId)}cancelDelete(){this.cancel.emit()}static \u0275fac=function(e){return new(e||l)};static \u0275cmp=f({type:l,selectors:[["app-delete-dialog"]],inputs:{taskId:"taskId"},outputs:{confirm:"confirm",cancel:"cancel"},standalone:!0,features:[h],decls:9,vars:0,consts:[[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","justify-center","items-center","z-50"],[1,"bg-white","rounded-lg","p-6","w-120","shadow-lg"],[1,"text-xl","font-semibold","text-gray-800","mb-6","text-center","whitespace-nowrap"],[1,"flex","justify-between","items-center"],[1,"bg-green-500","text-white","px-4","py-2","rounded","hover:bg-green-600","hover:scale-105","transform","transition",3,"click"],[1,"bg-red-500","text-white","px-4","py-2","rounded","hover:bg-red-600","hover:scale-105","transform","transition",3,"click"]],template:function(e,o){e&1&&(t(0,"div",0)(1,"div",1)(2,"h2",2),n(3," Are you sure you want to delete this task? "),i(),t(4,"div",3)(5,"button",4),d("click",function(){return o.confirmDelete()}),n(6," Yes "),i(),t(7,"button",5),d("click",function(){return o.cancelDelete()}),n(8," No "),i()()()())},encapsulation:2})};var k=class l{transform(r,e){return e==="All"?r:r.filter(o=>o.status.toLowerCase()===e.toLowerCase())}static \u0275fac=function(e){return new(e||l)};static \u0275pipe=T({name:"taskFilter",type:l,pure:!0,standalone:!0})};function G(l,r){if(l&1){let e=S();t(0,"tr",19),d("click",function(){let a=u(e).$implicit,c=m();return g(c.viewTaskDetails(a))}),t(1,"td",20),n(2),i(),t(3,"td",20),n(4),i(),t(5,"td",20),n(6),i(),t(7,"td",20),n(8),i(),t(9,"td",20),n(10),i(),t(11,"td",20),n(12),i(),t(13,"td",16)(14,"button",21),d("click",function(a){let c=u(e).$implicit,Y=m();return g(Y.openDeleteDialog(c.id,a))}),n(15," Delete "),i()()()}if(l&2){let e=r.$implicit,o=r.index;s(2),p(o+1),s(2),p(e.title),s(2),p(e.project),s(2),p(e.assignedTo),s(2),C(" ",e.status," "),s(2),p(e.deadline)}}function H(l,r){if(l&1){let e=S();t(0,"app-delete-dialog",22),d("confirm",function(a){u(e);let c=m();return g(c.deleteTaskFromModal(a))})("cancel",function(){u(e);let a=m();return g(a.closeDeleteDialog())}),i()}if(l&2){let e=m();b("taskId",e.selectedTaskId)}}var z=class l{constructor(r,e,o){this.taskService=r;this.router=e;this.authService=o;this.taskService.getTasks().subscribe(a=>{this.tasks=a})}tasks=[];isDeleteDialogOpen=!1;selectedTaskId=null;filterStatus="All";ngOnInit(){}viewTaskDetails(r){this.router.navigate([`/admin/task-details/${r.id}`])}goToAddTask(){this.router.navigate(["/admin/add-task"])}goToManageUsers(){this.router.navigate(["/admin/manage-users"])}openDeleteDialog(r,e){e.stopPropagation(),this.selectedTaskId=r,this.isDeleteDialogOpen=!0}closeDeleteDialog(){this.isDeleteDialogOpen=!1,this.selectedTaskId=null}deleteTaskFromModal(r){this.taskService.deleteTask(r).then(()=>{this.tasks=this.tasks.filter(e=>e.id!==r),this.closeDeleteDialog()})}logout(){this.authService.logout()}static \u0275fac=function(e){return new(e||l)(_(B),_(P),_(V))};static \u0275cmp=f({type:l,selectors:[["app-dashboard"]],standalone:!0,features:[h],decls:42,vars:6,consts:[[1,"min-h-screen","bg-gray-100"],[1,"bg-blue-600","text-white","px-6","py-4","flex","justify-between","items-center"],["href","/admin/dashboard",1,"text-2xl","font-bold","hover:underline"],[1,"flex","space-x-4"],[1,"bg-blue-700","text-white","px-3","py-2","rounded","shadow-sm","hover:bg-blue-800","focus:ring-1","focus:outline-none","focus:ring-blue-300","font-medium","text-sm","inline-flex","items-center",3,"ngModelChange","ngModel"],["value","All"],["value","Pending"],["value","InProgress"],["value","Completed"],[1,"bg-blue-500","px-4","py-2","rounded","hover:bg-blue-700","transition",3,"click"],[1,"bg-green-500","px-4","py-2","rounded","hover:bg-green-600","transition",3,"click"],[1,"bg-red-500","px-4","py-2","rounded","hover:bg-red-600","transition",3,"click"],[1,"px-6","py-4"],[1,"min-w-full","bg-white","border","border-gray-300","shadow-sm","rounded-lg"],[1,"bg-gray-200"],[1,"py-2","px-4","border-b","text-left"],[1,"py-2","px-4","border-b","text-center"],["class","hover:bg-gray-100 cursor-pointer",3,"click",4,"ngFor","ngForOf"],[3,"taskId","confirm","cancel",4,"ngIf"],[1,"hover:bg-gray-100","cursor-pointer",3,"click"],[1,"py-2","px-4","border-b"],[1,"bg-red-500","text-white","px-3","py-1","rounded","hover:bg-red-600",3,"click"],[3,"confirm","cancel","taskId"]],template:function(e,o){e&1&&(t(0,"div",0)(1,"nav",1)(2,"a",2),n(3," TaskManagePortal "),i(),t(4,"div",3)(5,"select",4),E("ngModelChange",function(c){return w(o.filterStatus,c)||(o.filterStatus=c),c}),t(6,"option",5),n(7,"All"),i(),t(8,"option",6),n(9,"Pending"),i(),t(10,"option",7),n(11,"In Progress"),i(),t(12,"option",8),n(13,"Completed"),i()(),t(14,"button",9),d("click",function(){return o.goToManageUsers()}),n(15," Manage Users "),i(),t(16,"button",10),d("click",function(){return o.goToAddTask()}),n(17," Add Task "),i(),t(18,"button",11),d("click",function(){return o.logout()}),n(19," Logout "),i()()(),t(20,"div",12)(21,"table",13)(22,"thead",14)(23,"tr")(24,"th",15),n(25,"Sr. No."),i(),t(26,"th",15),n(27,"Title"),i(),t(28,"th",15),n(29,"Project"),i(),t(30,"th",15),n(31,"Assigned"),i(),t(32,"th",15),n(33,"Status"),i(),t(34,"th",15),n(35,"Deadline"),i(),t(36,"th",16),n(37,"Actions"),i()()(),t(38,"tbody"),D(39,G,16,6,"tr",17),I(40,"taskFilter"),i()()()(),D(41,H,1,1,"app-delete-dialog",18)),e&2&&(s(5),y("ngModel",o.filterStatus),s(34),b("ngForOf",M(40,3,o.tasks,o.filterStatus)),s(2),b("ngIf",o.isDeleteDialogOpen))},dependencies:[O,F,A,x,W,R,U,L,N,j,k],encapsulation:2})};export{z as DashboardComponent};
